!function(){"use strict";var e=document.querySelector(".profile__edit-btn"),t=document.querySelector(".profile__add-btn"),n=document.querySelector(".profile__name"),r=document.querySelector(".profile__job"),o=document.querySelector(".profile__avatar"),i=document.querySelector('[data-form="popup__form_add"]'),c=document.querySelector('[data-form="popup__form_edit"]'),a=document.querySelector('[data-form="popup__form_edit-avatar"]'),u=document.querySelector('[data-image="popup__view_image"]'),s=document.querySelector('[data-form="popup__form_delete"]'),l=i.querySelector("form"),f=c.querySelector("form"),p=a.querySelector("form"),h=document.querySelector(".popup__input_type_name"),d=document.querySelector(".popup__input_type_job"),y=(document.querySelector(".popup__input_type_link"),document.querySelector(".cards")),v=document.querySelector("#card-template").content,m={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__btn",inactiveButtonClass:"popup__btn_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__error_visible"},_=function(e,t){var n=e.querySelector(".popup__btn_type_save");n.innerHTML=t?n.getAttribute("data-text-saving"):n.getAttribute("data-text-original")};function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.url=t,this.options=n,this.groupId="group-12"}var t,n;return t=e,(n=[{key:"getUserData",value:function(){return fetch("".concat(this.url).concat(this.groupId,"/users/me"),this.options).then((function(e){return e.ok?e.json():Promise.reject("Error:".concat(e.status))}))}},{key:"getInitialCards",value:function(){return fetch("".concat(this.url,"/").concat(this.groupId,"/cards"),this.options).then((function(e){return e.ok?e.json():Promise.reject("Error:".concat(e.status))}))}},{key:"updateUser",value:function(e){return fetch("".concat(this.url,"/").concat(this.groupId,"/users/me"),{method:"PATCH",headers:this.options.headers,body:JSON.stringify({name:e.name,about:e.about})}).then((function(e){return e.ok?e.json():Promise.reject("Error:".concat(e.status))}))}},{key:"addCard",value:function(e){return fetch("".concat(this.url,"/").concat(this.groupId,"/cards"),{method:"POST",headers:this.options.headers,body:JSON.stringify({name:e.name,link:e.link})}).then((function(e){return e.ok?e.json():Promise.reject("Error:".concat(e.status))}))}},{key:"deleteCard",value:function(e){return fetch("".concat(this.url,"/").concat(this.groupId,"/cards/").concat(e),{method:"DELETE",headers:this.options.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error:".concat(e.status))}))}},{key:"addLike",value:function(e){return fetch("".concat(this.url,"/").concat(this.groupId,"/cards/likes/").concat(e),{method:"PUT",headers:this.options.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error:".concat(e.status))}))}},{key:"removeLike",value:function(e){return fetch("".concat(this.url,"/").concat(this.groupId,"/cards/likes/").concat(e),{method:"DELETE",headers:this.options.headers}).then((function(e){return e.ok?e.json():Promise.reject("Error:".concat(e.status))}))}},{key:"changeProfilePic",value:function(e){return fetch("".concat(this.url,"/").concat(this.groupId,"/users/me/avatar"),{method:"PATCH",headers:this.options.headers,body:JSON.stringify({avatar:e.avatar})}).then((function(e){return e.ok?e.json():Promise.reject("Error:".concat(e.status))}))}}])&&b(t.prototype,n),e}();function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(){function e(t,n,r){var o=t.name,i=t.link,c=t._id,a=t.likes,u=t.owner,s=t.handleCardClickCallbackFn,l=t.handleTrashClickCallbackFn,f=t.handleLikeClickCallbackFn;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.cardName=o,this.cardLink=i,this.cardId=c,this.cardOwnerId=u._id,this.cardLikes=a,this.userId=n,this.handleCardClick=s,this.handleTrashClick=l,this.handleLikeClick=f,this.cardTemplate=r,this.element=this._getTemplate(),this.cardPic=this.element.querySelector(".card__pic")}var t,n;return t=e,(n=[{key:"_getTemplate",value:function(){return this.cardTemplate.querySelector(".card").cloneNode(!0)}},{key:"_fillHeart",value:function(e){e.target.classList.toggle("card__like_active")}},{key:"_plusLike",value:function(e,t){t.target.closest(".card").querySelector(".card__like-total").textContent=e.likes.length}},{key:"_minusLike",value:function(e,t){t.target.closest(".card").querySelector(".card__like-total").textContent=e.likes.length}},{key:"addLikes",value:function(e,t){this._fillHeart(t),this._plusLike(e,t)}},{key:"removeLikes",value:function(e,t){this._fillHeart(t),this._minusLike(e,t)}},{key:"_showUserFilledHeart",value:function(){var e=this;this.cardLikes.forEach((function(t){t._id===e.userId&&e.element.querySelector(".card__like-btn").classList.toggle("card__like_active")}))}},{key:"_showTrash",value:function(){this.element.querySelector(".card__delete").style.display="none"}},{key:"_setEventListeners",value:function(){var e=this;this.element.querySelector(".card__like-btn").addEventListener("click",this.handleLikeClick),this.element.querySelector(".card__delete").addEventListener("click",(function(t){t.preventDefault,e.handleTrashClick(e.cardId)})),this.cardPic.addEventListener("click",this.handleCardClick)}},{key:"generateCard",value:function(){return this.cardPic.src=this.cardLink,this.element.querySelector(".card__title").textContent=this.cardName,this.cardPic.alt=this.cardName,this.element.querySelector(".card__like-total").textContent=Object.keys(this.cardLikes).length,this.element.id=this.cardId,this.cardLikes.length>0&&this._showUserFilledHeart(),this.cardOwnerId!==this.userId&&this._showTrash(),this._setEventListeners(),this.element}}])&&g(t.prototype,n),e}();function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var S=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.formSelector=t.formSelector,this.inputSelector=t.inputSelector,this.submitButtonSelector=t.submitButtonSelector,this.inactiveButtonClass=t.inactiveButtonClass,this.inputErrorClass=t.inputErrorClass,this.errorClass=t.errorClass,this.formElement=n,this.inputList=Array.from(this.formElement.querySelectorAll(this.inputSelector)),this.buttonElement=this.formElement.querySelector(this.submitButtonSelector)}var t,n;return t=e,(n=[{key:"resetErrorMessage",value:function(e){var t=this;if(e){var n=e.querySelectorAll(".".concat(this.errorClass)),r=e.querySelectorAll(".".concat(this.inputErrorClass));e.reset(),n.length>0&&n.forEach((function(e){e.classList.remove(t.errorClass)})),r.length>0&&r.forEach((function(e){e.classList.remove(t.inputErrorClass)}))}}},{key:"_showInputError",value:function(e,t){var n=this.formElement.querySelector(".".concat(e.id,"-error"));n&&(e.classList.add(this.inputErrorClass),n.classList.add(this.errorClass),n.textContent=t)}},{key:"_hideInputError",value:function(e){var t=this.formElement.querySelector(".".concat(e.id,"-error"));t&&(e.classList.remove(this.inputErrorClass),t.classList.remove(this.errorClass),t.textContent="")}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}},{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}},{key:"_toggleBtnState",value:function(){this._hasInvalidInput(this.inputList)?(this.buttonElement.classList.add(this.inactiveButtonClass),this.buttonElement.setAttribute("disabled",!0)):(this.buttonElement.classList.remove(this.inactiveButtonClass),this.buttonElement.removeAttribute("disabled"))}},{key:"_setEvenListeners",value:function(){var e=this;this.inputList.forEach((function(t){t.addEventListener("input",(function(){e._checkInputValidity(t),e._toggleBtnState()}))})),this.formElement.addEventListener("submit",(function(e){e.preventDefault()}))}},{key:"enableValidation",value:function(){this._setEvenListeners(),this._toggleBtnState()}}])&&C(t.prototype,n),e}();function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var I=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._items=r,this._renderer=o,this._container=n}var t,n;return t=e,(n=[{key:"renderItems",value:function(){var e=this;this._items.length>1?this._items.forEach((function(t){e._renderer(t)})):this._renderer(this._items)}},{key:"addInitialItem",value:function(e){this._container.append(e)}},{key:"addNewItem",value:function(e){this._container.prepend(e)}}])&&w(t.prototype,n),e}();function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var L=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.job=n,this.avatar=r,this.userId=""}var t,n;return t=e,(n=[{key:"setUserInfo",value:function(e){this.name.textContent=e.name,this.job.textContent=e.about}},{key:"setPopupInput",value:function(e,t){e.value=this.name.textContent,t.value=this.job.textContent}},{key:"setAvatar",value:function(e){this.avatar.style.backgroundImage="url(".concat(e.avatar,")")}},{key:"setUserId",value:function(e){this.userId=e._id}},{key:"getUserId",value:function(){return this.userId}}])&&O(t.prototype,n),e}();function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var P=function(){function e(t){var n,r,o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=function(e){e.target.classList.contains("popup_opened")&&o.close()},(n="_closeOnOverlay")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._popupElement=t,this._handleEscClose=this._handleEscClose.bind(this),this.close=this.close.bind(this),this.closeBtnElement=t.querySelector(".popup__btn_type_close")}var t,n;return t=e,(n=[{key:"setEventlisteners",value:function(){this._popupElement.addEventListener("click",this._closeOnOverlay),this.closeBtnElement.addEventListener("click",this.close)}},{key:"open",value:function(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}}])&&j(t.prototype,n),e}();function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t,n){return(R="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=U(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function B(e,t){return(B=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return(U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&B(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=U(r);if(o){var n=U(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return x(this,e)});function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=i.call(this,e)).popupElement=e,n.handleFormSubmit=t.bind(A(n)),n}return t=c,(n=[{key:"_getInputValues",value:function(){var e={};return Array.from(this.popupElement.querySelectorAll(".popup__input")).forEach((function(t){e[t.name]=t.value})),e}},{key:"setEventlisteners",value:function(){var e=this;R(U(c.prototype),"setEventlisteners",this).call(this),this.popupElement.querySelector("form").addEventListener("submit",(function(t){t.preventDefault(),e.handleFormSubmit(e._getInputValues())}))}}])&&T(t.prototype,n),c}(P);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function H(e,t,n){return(H="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=J(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=J(r);if(o){var n=J(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return M(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).popupElement=e,t.popupImg=e.querySelector(".popup__img"),t.popupImgCaption=e.querySelector(".popup__img-caption"),t}return t=c,(n=[{key:"open",value:function(e){var t="".concat(e.target.parentElement.querySelector(".card__title").textContent);this.popupImg.src="",this.popupImg.src=e.target.src,this.popupImgCaption.textContent=t,this.popupImg.alt=t,H(J(c.prototype),"open",this).call(this)}}])&&N(t.prototype,n),c}(P);function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t,n){return(Q="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Y(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function X(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Z=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(c,e);var t,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Y(r);if(o){var n=Y(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return X(this,e)});function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=i.call(this,e)).popupElement=e,n.handleDelete=t,n.cardId="",n}return t=c,(n=[{key:"open",value:function(e){Q(Y(c.prototype),"open",this).call(this),this.cardId=e,this.setEventlisteners()}},{key:"setEventlisteners",value:function(){var e=this;this.popupElement.querySelector("form").addEventListener("submit",(function(t){t.preventDefault(),e.handleDelete()}))}}])&&K(t.prototype,n),c}(P),$=new k("https://around.nomoreparties.co/v1/",{method:"GET",headers:{authorization:"e09604a5-57aa-4b20-9a83-ea66e5c6924b","Content-Type":"application/json"}}),ee=new z(u),te=new L(n,r,o),ne=function(e){ee.open(e)},re=function(e){pe.open(e)},oe=function(e){var t=e.name,n=e.link,r=e._id,o=e.likes,i=e.owner,c=te.getUserId(),a=new E({name:t,link:n,_id:r,likes:o,owner:i,handleCardClickCallbackFn:ne,handleTrashClickCallbackFn:re,handleLikeClickCallbackFn:function(e){var t=e.target.closest(".card").id;e.target.classList.contains("card__like_active")?$.removeLike(t).then((function(t){a.removeLikes(t,e)})).catch((function(e){console.log("Error: ".concat(e))})):$.addLike(t).then((function(t){a.addLikes(t,e)})).catch((function(e){console.log("Error: ".concat(e))}))}},c,v);return a.generateCard()},ie=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new I({items:e,renderer:function(e){var r=oe(e);t?n.addNewItem(r):n.addInitialItem(r)}},y);return n},ce=new S(m,c),ae=new S(m,i),ue=new S(m,a);ce.enableValidation(),ae.enableValidation(),ue.enableValidation();var se=new D(c,(function(e){_(c,!0),$.updateUser(e).then((function(e){te.setUserInfo(e),_(c,!1),se.close()})).catch((function(e){console.log("Error: ".concat(e))}))})),le=new D(i,(function(e){_(i,!0),$.addCard(e).then((function(e){ie(e).renderItems(),le.close(),_(i,!1)})).catch((function(e){console.log("Error: ".concat(e))}))})),fe=new D(a,(function(e){_(a,!0),$.changeProfilePic(e).then((function(e){o.style.backgroundImage="url(".concat(e.avatar,")"),fe.close(),_(a,!1)})).catch((function(e){console.log("Error: ".concat(e))}))})),pe=new Z(s,(function(){var e=pe.cardId;$.deleteCard(e).then((function(){document.getElementById("".concat(pe.cardId)).remove(),pe.close()})).catch((function(e){console.log("Error: ".concat(e))}))}));se.setEventlisteners(),le.setEventlisteners(),fe.setEventlisteners(),pe.setEventlisteners(),e.addEventListener("click",(function(){ce.resetErrorMessage(f),te.setPopupInput(h,d),se.open()})),t.addEventListener("click",(function(){ae.resetErrorMessage(l),le.open()})),o.addEventListener("click",(function(){ae.resetErrorMessage(p),fe.open()})),Promise.all([$.getInitialCards(),$.getUserData()]).then((function(e){return function(e){te.setUserInfo(e),te.setAvatar(e),te.setUserId(e)}(e[1]),e})).catch((function(e){return"Error: ".concat(e)})).then((function(e){var t;t=e[0],ie(t,!1).renderItems()})).catch((function(e){return"Error: ".concat(e)}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93ZWJfcHJvamVjdC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3QvLi9zcmMvdXRpbHMvdmFsaWRhdGUtc2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3QvLi9zcmMvdXRpbHMvbG9hZGluZy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3QvLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdC8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3QvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3QvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhEZWxldGUuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3QvLi9zcmMvcGFnZXMvaW5kZXguanMiXSwibmFtZXMiOlsiZWRpdFByb2ZpbGVCdG5FbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYWRkQ2FyZEJ0bkVsZW1lbnQiLCJwcm9maWxlVGl0bGVFbGVtZW50IiwicHJvZmlsZVN1YnRpdGxlRWxlbWVudCIsInByb2ZpbGVBdmF0YXJFbGVtZW50IiwicG9wdXBGb3JtQWRkRWxlbWVudCIsInBvcHVwRm9ybUVkaXRFbGVtZW50IiwicG9wdXBGb3JtQ2hhbmdlQXZhdGFyRWxlbWVudCIsInBvcHVwVmlld0ltYWdlRWxlbWVudCIsInBvcHVwRGVsZXRlQ2FyZEVsZW1lbnQiLCJmb3JtQWRkRWxlbWVudCIsImZvcm1FZGl0RWxlbWVudCIsImZvcm1DaGFuZ2VBdmF0YXJFbGVtZW50IiwicG9wdXBJbnB1dFR5cGVOYW1lIiwicG9wdXBJbnB1dFR5cGVKb2IiLCJjYXJkc0NvbnRhaW5lckVsZW1lbnQiLCJjYXJkVGVtcGxhdGUiLCJjb250ZW50IiwidmFsaWRhdGlvbkNvbmZpZyIsImZvcm1TZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwibG9hZGluZ1RleHQiLCJwb3B1cEVsZW1lbnQiLCJpc1NhdmluZyIsImVsZW1lbnQiLCJpbm5lckhUTUwiLCJnZXRBdHRyaWJ1dGUiLCJBcGkiLCJ1cmxUb1JlcXVlc3RlZFJlc291cmNlIiwib3B0aW9uc09iaiIsInRoaXMiLCJ1cmwiLCJvcHRpb25zIiwiZ3JvdXBJZCIsImZldGNoIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJ1c2VyRGF0YSIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsIm5hbWUiLCJhYm91dCIsImNhcmREYXRhIiwibGluayIsImNhcmRJZCIsImF2YXRhckxpbmsiLCJhdmF0YXIiLCJDYXJkIiwidXNlcklkIiwiX2lkIiwibGlrZXMiLCJvd25lciIsImhhbmRsZUNhcmRDbGlja0NhbGxiYWNrRm4iLCJoYW5kbGVUcmFzaENsaWNrQ2FsbGJhY2tGbiIsImhhbmRsZUxpa2VDbGlja0NhbGxiYWNrRm4iLCJjYXJkTmFtZSIsImNhcmRMaW5rIiwiY2FyZE93bmVySWQiLCJjYXJkTGlrZXMiLCJoYW5kbGVDYXJkQ2xpY2siLCJoYW5kbGVUcmFzaENsaWNrIiwiaGFuZGxlTGlrZUNsaWNrIiwiX2dldFRlbXBsYXRlIiwiY2FyZFBpYyIsImNsb25lTm9kZSIsImV2ZW50IiwidGFyZ2V0IiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwiY2xvc2VzdCIsInRleHRDb250ZW50IiwibGVuZ3RoIiwiX2ZpbGxIZWFydCIsIl9wbHVzTGlrZSIsIl9taW51c0xpa2UiLCJmb3JFYWNoIiwibGlrZSIsInN0eWxlIiwiZGlzcGxheSIsImFkZEV2ZW50TGlzdGVuZXIiLCJwcmV2ZW50RGVmYXVsdCIsInNyYyIsImFsdCIsIk9iamVjdCIsImtleXMiLCJpZCIsIl9zaG93VXNlckZpbGxlZEhlYXJ0IiwiX3Nob3dUcmFzaCIsIl9zZXRFdmVudExpc3RlbmVycyIsIkZvcm1WYWxpZGF0b3IiLCJzZXR0aW5nT2JqIiwiZm9ybUVsZW1lbnQiLCJpbnB1dExpc3QiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiYnV0dG9uRWxlbWVudCIsImVycm9yRWxlbWVudExpc3QiLCJpbnB1dEVycm9yRWxlbWVudExpc3QiLCJyZXNldCIsImVycm9yIiwicmVtb3ZlIiwiaW5wdXRFcnJvciIsImlucHV0RWxlbWVudCIsImVycm9yTWVzc2FnZSIsImVycm9yRWxlbWVudCIsImFkZCIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsInNvbWUiLCJfaGFzSW52YWxpZElucHV0Iiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiX3RoaXMiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiX3RvZ2dsZUJ0blN0YXRlIiwiZSIsIl9zZXRFdmVuTGlzdGVuZXJzIiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJpdGVtIiwiYXBwZW5kIiwicHJlcGVuZCIsIlVzZXJJbmZvIiwiam9iIiwiaW5wdXROYW1lRWxlbWVudCIsImlucHV0Sm9iRWxlbWVudCIsInZhbHVlIiwiYmFja2dyb3VuZEltYWdlIiwiUG9wdXAiLCJjb250YWlucyIsImNsb3NlIiwiX3BvcHVwRWxlbWVudCIsIl9oYW5kbGVFc2NDbG9zZSIsImJpbmQiLCJjbG9zZUJ0bkVsZW1lbnQiLCJfY2xvc2VPbk92ZXJsYXkiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwia2V5IiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXRDYWxsYmFja0ZuIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInVzZXJJbmZvIiwiX2dldElucHV0VmFsdWVzIiwiUG9wdXBXaXRoSW1hZ2UiLCJwb3B1cEltZyIsInBvcHVwSW1nQ2FwdGlvbiIsImNhcmRUZXh0IiwicGFyZW50RWxlbWVudCIsIlBvcHVwV2l0aERlbGV0ZSIsImhhbmRsZURlbGV0ZUNhbGxiYWNrRm4iLCJoYW5kbGVEZWxldGUiLCJzZXRFdmVudGxpc3RlbmVycyIsImFwaSIsIkFQSSIsImF1dGhvcml6YXRpb24iLCJwb3B1cFdpdGhJbWFnZSIsIm9wZW4iLCJwb3B1cFdpdGhEZWxldGUiLCJjcmVhdGVDYXJkIiwiZ2V0VXNlcklkIiwiY2FyZEVsZW1lbnQiLCJyZW1vdmVMaWtlIiwicmVtb3ZlTGlrZXMiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJhZGRMaWtlIiwiYWRkTGlrZXMiLCJnZW5lcmF0ZUNhcmQiLCJjcmVhdGVTZWN0aW9uIiwic2VjdGlvbiIsImNhcmQiLCJhZGROZXdJdGVtIiwiYWRkSW5pdGlhbEl0ZW0iLCJmb3JtRWRpdFZhbGlkYXRvciIsImZvcm1BZGRWYWxpZGF0b3IiLCJmb3JtQ2hhbmdlQXZhdGFyIiwiZW5hYmxlVmFsaWRhdGlvbiIsInBvcHVwRWRpdFByb2ZpbGUiLCJuZXdVc2VyRGF0YSIsInVwZGF0ZVVzZXIiLCJyZXN1bHQiLCJzZXRVc2VySW5mbyIsInBvcHVwQWRkQ2FyZCIsImFkZENhcmQiLCJyZW5kZXJJdGVtcyIsInBvcHVwQ2hhbmdlQXZhdGFyIiwibmV3QXZhdGFyT2JqIiwiY2hhbmdlUHJvZmlsZVBpYyIsImRlbGV0ZUNhcmQiLCJnZXRFbGVtZW50QnlJZCIsInJlc2V0RXJyb3JNZXNzYWdlIiwic2V0UG9wdXBJbnB1dCIsImFsbCIsImdldEluaXRpYWxDYXJkcyIsImdldFVzZXJEYXRhIiwiZGF0YSIsInNldEF2YXRhciIsInNldFVzZXJJZCIsImluaXRpYWxpemVVc2VyIl0sIm1hcHBpbmdzIjoieUJBQU8sSUFBTUEsRUFBd0JDLFNBQVNDLGNBQWMsc0JBQy9DQyxFQUFvQkYsU0FBU0MsY0FBYyxxQkFDM0NFLEVBQXNCSCxTQUFTQyxjQUFjLGtCQUM3Q0csRUFBeUJKLFNBQVNDLGNBQWMsaUJBQ2hESSxFQUF1QkwsU0FBU0MsY0FBYyxvQkFDOUNLLEVBQXNCTixTQUFTQyxjQUFjLGlDQUM3Q00sRUFBdUJQLFNBQVNDLGNBQWMsa0NBQzlDTyxFQUErQlIsU0FBU0MsY0FBYyx5Q0FDdERRLEVBQXdCVCxTQUFTQyxjQUFjLG9DQUMvQ1MsRUFBeUJWLFNBQVNDLGNBQWMsb0NBQ2hEVSxFQUFpQkwsRUFBb0JMLGNBQWMsUUFDbkRXLEVBQWtCTCxFQUFxQk4sY0FBYyxRQUNyRFksRUFBMEJMLEVBQTZCUCxjQUFjLFFBQ3JFYSxFQUFxQmQsU0FBU0MsY0FBYywyQkFDNUNjLEVBQW9CZixTQUFTQyxjQUFjLDBCQUUzQ2UsR0FEcUJoQixTQUFTQyxjQUFjLDJCQUNwQkQsU0FBU0MsY0FBYyxXQUMvQ2dCLEVBQWVqQixTQUFTQyxjQUFjLGtCQUFrQmlCLFFDakJ4REMsRUFBbUIsQ0FDOUJDLGFBQWMsZUFDZEMsY0FBZSxnQkFDZkMscUJBQXNCLGNBQ3RCQyxvQkFBcUIsc0JBQ3JCQyxnQkFBaUIsMEJBQ2pCQyxXQUFZLHdCQ05EQyxFQUFjLFNBQUNDLEVBQWNDLEdBQ3hDLElBQU1DLEVBQVVGLEVBQWExQixjQUFjLHlCQUV6QzRCLEVBQVFDLFVBRE5GLEVBQ2tCQyxFQUFRRSxhQUFhLG9CQUVyQkYsRUFBUUUsYUFBYSx1QiwwS0NMeEJDLEUs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LElBQ2JBLEtBQ05sQyxPQUFNLFNBQUF4RSxHQUNQLHVCQUFrQkEsTUFFbkJ6RSxNQUFLLFNBQUNtTCxHQXhCZSxJQUFDcEssSUF5QkxvSyxFQUFLLEdBeEJ2QjNCLEdBQWN6SSxHQUFVLEdBQU95SixpQkF5QjVCdkIsT0FBTSxTQUFBeEUsR0FDUCx1QkFBa0JBLE0iLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBlZGl0UHJvZmlsZUJ0bkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fZWRpdC1idG4nKVxuZXhwb3J0IGNvbnN0IGFkZENhcmRCdG5FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZC1idG4nKVxuZXhwb3J0IGNvbnN0IHByb2ZpbGVUaXRsZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fbmFtZScpO1xuZXhwb3J0IGNvbnN0IHByb2ZpbGVTdWJ0aXRsZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fam9iJyk7XG5leHBvcnQgY29uc3QgcHJvZmlsZUF2YXRhckVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyJyk7XG5leHBvcnQgY29uc3QgcG9wdXBGb3JtQWRkRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWZvcm09XCJwb3B1cF9fZm9ybV9hZGRcIl0nKVxuZXhwb3J0IGNvbnN0IHBvcHVwRm9ybUVkaXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZm9ybT1cInBvcHVwX19mb3JtX2VkaXRcIl0nKTtcbmV4cG9ydCBjb25zdCBwb3B1cEZvcm1DaGFuZ2VBdmF0YXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZm9ybT1cInBvcHVwX19mb3JtX2VkaXQtYXZhdGFyXCJdJylcbmV4cG9ydCBjb25zdCBwb3B1cFZpZXdJbWFnZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1pbWFnZT1cInBvcHVwX192aWV3X2ltYWdlXCJdJylcbmV4cG9ydCBjb25zdCBwb3B1cERlbGV0ZUNhcmRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZm9ybT1cInBvcHVwX19mb3JtX2RlbGV0ZVwiXScpXG5leHBvcnQgY29uc3QgZm9ybUFkZEVsZW1lbnQgPSBwb3B1cEZvcm1BZGRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0nKTtcbmV4cG9ydCBjb25zdCBmb3JtRWRpdEVsZW1lbnQgPSBwb3B1cEZvcm1FZGl0RWxlbWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtJyk7XG5leHBvcnQgY29uc3QgZm9ybUNoYW5nZUF2YXRhckVsZW1lbnQgPSBwb3B1cEZvcm1DaGFuZ2VBdmF0YXJFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0nKTtcbmV4cG9ydCBjb25zdCBwb3B1cElucHV0VHlwZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2lucHV0X3R5cGVfbmFtZScpO1xuZXhwb3J0IGNvbnN0IHBvcHVwSW5wdXRUeXBlSm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19pbnB1dF90eXBlX2pvYicpO1xuZXhwb3J0IGNvbnN0IHBvcHVwSW5wdXRUeXBlTGluayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9faW5wdXRfdHlwZV9saW5rJyk7XG5leHBvcnQgY29uc3QgY2FyZHNDb250YWluZXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkc1wiKTtcbmV4cG9ydCBjb25zdCBjYXJkVGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmQtdGVtcGxhdGVcIikuY29udGVudDtcbiIsImV4cG9ydCBjb25zdCB2YWxpZGF0aW9uQ29uZmlnID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLnBvcHVwX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLnBvcHVwX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIucG9wdXBfX2J0blwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcInBvcHVwX19idG5fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcInBvcHVwX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwicG9wdXBfX2Vycm9yX3Zpc2libGVcIlxufTtcbiIsImV4cG9ydCBjb25zdCBsb2FkaW5nVGV4dCA9IChwb3B1cEVsZW1lbnQsIGlzU2F2aW5nKSA9PiB7XG4gIGNvbnN0IGVsZW1lbnQgPSBwb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19idG5fdHlwZV9zYXZlJylcbiAgaWYgKGlzU2F2aW5nKSB7XG4gICAgZWxlbWVudC5pbm5lckhUTUwgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcImRhdGEtdGV4dC1zYXZpbmdcIilcbiAgfSBlbHNlIHtcbiAgICBlbGVtZW50LmlubmVySFRNTCA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS10ZXh0LW9yaWdpbmFsXCIpXG4gIH1cbn1cblxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3IodXJsVG9SZXF1ZXN0ZWRSZXNvdXJjZSwgb3B0aW9uc09iaikge1xuICAgIHRoaXMudXJsID0gdXJsVG9SZXF1ZXN0ZWRSZXNvdXJjZTtcbiAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zT2JqO1xuICAgIHRoaXMuZ3JvdXBJZCA9IFwiZ3JvdXAtMTJcIjtcbiAgfVxuXG4gIGdldFVzZXJEYXRhKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0ke3RoaXMuZ3JvdXBJZH0vdXNlcnMvbWVgLFxuICAgICAgdGhpcy5vcHRpb25zXG4gICAgKVxuICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpXG4gICAgICAgIH1cbiAgICAgICAgLy8gaWYgdGhlIHRoaXMudXJsIHJldHVybnMgYW4gZXJyb3IsIHJlamVjdCB0aGUgcHJvbWlzZVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiR7cmVzLnN0YXR1c31gKVxuICAgICAgfSlcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9LyR7dGhpcy5ncm91cElkfS9jYXJkc2AsIHRoaXMub3B0aW9ucylcbiAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6JHtyZXMuc3RhdHVzfWApXG4gICAgICB9KVxuICB9XG5cbiAgdXBkYXRlVXNlcih1c2VyRGF0YSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0vJHt0aGlzLmdyb3VwSWR9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLm9wdGlvbnMuaGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogdXNlckRhdGEubmFtZSxcbiAgICAgICAgYWJvdXQ6IHVzZXJEYXRhLmFib3V0XG4gICAgICB9KVxuICAgIH0pXG4gICAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiR7cmVzLnN0YXR1c31gKVxuICAgICAgfSlcbiAgfVxuXG4gIGFkZENhcmQoY2FyZERhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9LyR7dGhpcy5ncm91cElkfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLm9wdGlvbnMuaGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogY2FyZERhdGEubmFtZSxcbiAgICAgICAgbGluazogY2FyZERhdGEubGluayxcbiAgICAgIH0pXG4gICAgfSlcbiAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6JHtyZXMuc3RhdHVzfWApXG4gICAgICB9KVxuICB9XG5cbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9LyR7dGhpcy5ncm91cElkfS9jYXJkcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLm9wdGlvbnMuaGVhZGVyc1xuICAgIH0pXG4gICAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5qc29uKClcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiR7cmVzLnN0YXR1c31gKVxuICAgICAgfSlcbiAgfVxuXG4gIGFkZExpa2UoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfS8ke3RoaXMuZ3JvdXBJZH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5vcHRpb25zLmhlYWRlcnNcbiAgICB9KVxuICAgICAgLnRoZW4ocmVzID0+IHtcbiAgICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICAgIHJldHVybiByZXMuanNvbigpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjoke3Jlcy5zdGF0dXN9YClcbiAgICAgIH0pXG4gIH1cblxuICByZW1vdmVMaWtlKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0vJHt0aGlzLmdyb3VwSWR9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMub3B0aW9ucy5oZWFkZXJzXG4gICAgfSlcbiAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6JHtyZXMuc3RhdHVzfWApXG4gICAgICB9KVxuICB9XG5cbiAgY2hhbmdlUHJvZmlsZVBpYyhhdmF0YXJMaW5rKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfS8ke3RoaXMuZ3JvdXBJZH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLm9wdGlvbnMuaGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYXZhdGFyOiBhdmF0YXJMaW5rLmF2YXRhclxuICAgICAgfSksXG4gICAgfSlcbiAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6JHtyZXMuc3RhdHVzfWApXG4gICAgICB9KVxuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKHsgbmFtZSwgbGluaywgX2lkLCBsaWtlcywgb3duZXIsIGhhbmRsZUNhcmRDbGlja0NhbGxiYWNrRm4sIGhhbmRsZVRyYXNoQ2xpY2tDYWxsYmFja0ZuLCBoYW5kbGVMaWtlQ2xpY2tDYWxsYmFja0ZuIH0sIHVzZXJJZCwgY2FyZFRlbXBsYXRlKSB7XG4gICAgdGhpcy5jYXJkTmFtZSA9IG5hbWU7XG4gICAgdGhpcy5jYXJkTGluayA9IGxpbms7XG4gICAgdGhpcy5jYXJkSWQgPSBfaWQ7XG4gICAgdGhpcy5jYXJkT3duZXJJZCA9IG93bmVyLl9pZDtcbiAgICB0aGlzLmNhcmRMaWtlcyA9IGxpa2VzO1xuICAgIHRoaXMudXNlcklkID0gdXNlcklkO1xuICAgIHRoaXMuaGFuZGxlQ2FyZENsaWNrID0gaGFuZGxlQ2FyZENsaWNrQ2FsbGJhY2tGbjtcbiAgICB0aGlzLmhhbmRsZVRyYXNoQ2xpY2sgPSBoYW5kbGVUcmFzaENsaWNrQ2FsbGJhY2tGbjtcbiAgICB0aGlzLmhhbmRsZUxpa2VDbGljayA9IGhhbmRsZUxpa2VDbGlja0NhbGxiYWNrRm47XG4gICAgdGhpcy5jYXJkVGVtcGxhdGUgPSBjYXJkVGVtcGxhdGU7XG4gICAgdGhpcy5lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLmNhcmRQaWMgPSB0aGlzLmVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19waWNcIilcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5jYXJkVGVtcGxhdGUucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpLmNsb25lTm9kZSh0cnVlKTtcbiAgfVxuXG4gIF9maWxsSGVhcnQoZXZlbnQpIHtcbiAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgnY2FyZF9fbGlrZV9hY3RpdmUnKTtcbiAgfVxuXG4gIF9wbHVzTGlrZShyZXMsIGV2ZW50KSB7XG4gICAgZXZlbnQudGFyZ2V0LmNsb3Nlc3QoXCIuY2FyZFwiKS5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtdG90YWxcIikudGV4dENvbnRlbnQgPSAocmVzLmxpa2VzKS5sZW5ndGhcbiAgfVxuXG4gIF9taW51c0xpa2UocmVzLCBldmVudCkge1xuICAgIGV2ZW50LnRhcmdldC5jbG9zZXN0KFwiLmNhcmRcIikucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLXRvdGFsXCIpLnRleHRDb250ZW50ID0gKHJlcy5saWtlcykubGVuZ3RoXG4gIH1cblxuICBhZGRMaWtlcyhyZXMsIGV2ZW50KSB7XG4gICAgdGhpcy5fZmlsbEhlYXJ0KGV2ZW50KVxuICAgIHRoaXMuX3BsdXNMaWtlKHJlcywgZXZlbnQpXG4gIH1cblxuICByZW1vdmVMaWtlcyhyZXMsIGV2ZW50KSB7XG4gICAgdGhpcy5fZmlsbEhlYXJ0KGV2ZW50KVxuICAgIHRoaXMuX21pbnVzTGlrZShyZXMsIGV2ZW50KVxuICB9XG5cbiAgX3Nob3dVc2VyRmlsbGVkSGVhcnQoKSB7XG4gICAgdGhpcy5jYXJkTGlrZXMuZm9yRWFjaChsaWtlID0+IHtcbiAgICAgIGlmIChsaWtlWydfaWQnXSA9PT0gdGhpcy51c2VySWQpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idG5cIikuY2xhc3NMaXN0LnRvZ2dsZSgnY2FyZF9fbGlrZV9hY3RpdmUnKVxuICAgICAgfVxuICAgIH0pXG4gIH1cblxuICBfc2hvd1RyYXNoKCkge1xuICAgIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZVwiKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnRuXCIpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVMaWtlQ2xpY2spO1xuICAgIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZVwiKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHRcbiAgICAgIHRoaXMuaGFuZGxlVHJhc2hDbGljayh0aGlzLmNhcmRJZClcbiAgICB9KTtcbiAgICB0aGlzLmNhcmRQaWMuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZUNhcmRDbGljaylcbiAgfVxuXG4gIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICB0aGlzLmNhcmRQaWMuc3JjID0gdGhpcy5jYXJkTGlua1xuICAgIHRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fdGl0bGUnKS50ZXh0Q29udGVudCA9IHRoaXMuY2FyZE5hbWU7XG4gICAgdGhpcy5jYXJkUGljLmFsdCA9IHRoaXMuY2FyZE5hbWU7XG4gICAgdGhpcy5lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX19saWtlLXRvdGFsJykudGV4dENvbnRlbnQgPSBPYmplY3Qua2V5cyh0aGlzLmNhcmRMaWtlcykubGVuZ3RoXG5cbiAgICB0aGlzLmVsZW1lbnQuaWQgPSB0aGlzLmNhcmRJZFxuXG4gICAgaWYgKHRoaXMuY2FyZExpa2VzLmxlbmd0aCA+IDApIHRoaXMuX3Nob3dVc2VyRmlsbGVkSGVhcnQoKVxuICAgIGlmICh0aGlzLmNhcmRPd25lcklkICE9PSB0aGlzLnVzZXJJZCkgdGhpcy5fc2hvd1RyYXNoKClcblxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudFxuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKHNldHRpbmdPYmosIGZvcm1FbGVtZW50KSB7XG4gICAgdGhpcy5mb3JtU2VsZWN0b3IgPSBzZXR0aW5nT2JqLmZvcm1TZWxlY3RvclxuICAgIHRoaXMuaW5wdXRTZWxlY3RvciA9IHNldHRpbmdPYmouaW5wdXRTZWxlY3RvclxuICAgIHRoaXMuc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXR0aW5nT2JqLnN1Ym1pdEJ1dHRvblNlbGVjdG9yXG4gICAgdGhpcy5pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2V0dGluZ09iai5pbmFjdGl2ZUJ1dHRvbkNsYXNzXG4gICAgdGhpcy5pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5nT2JqLmlucHV0RXJyb3JDbGFzc1xuICAgIHRoaXMuZXJyb3JDbGFzcyA9IHNldHRpbmdPYmouZXJyb3JDbGFzc1xuICAgIHRoaXMuZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudFxuICAgIHRoaXMuaW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLmZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5pbnB1dFNlbGVjdG9yKSlcbiAgICB0aGlzLmJ1dHRvbkVsZW1lbnQgPSB0aGlzLmZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5zdWJtaXRCdXR0b25TZWxlY3RvcilcbiAgfVxuXG4gIHJlc2V0RXJyb3JNZXNzYWdlKGZvcm1FbGVtZW50KSB7XG4gICAgaWYgKCEhZm9ybUVsZW1lbnQpIHtcbiAgICAgIGNvbnN0IGVycm9yRWxlbWVudExpc3QgPSBmb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKGAuJHt0aGlzLmVycm9yQ2xhc3N9YClcbiAgICAgIGNvbnN0IGlucHV0RXJyb3JFbGVtZW50TGlzdCA9IGZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYC4ke3RoaXMuaW5wdXRFcnJvckNsYXNzfWApXG4gICAgICBmb3JtRWxlbWVudC5yZXNldCgpXG4gICAgICBpZiAoZXJyb3JFbGVtZW50TGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGVycm9yRWxlbWVudExpc3QuZm9yRWFjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICBlcnJvci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuZXJyb3JDbGFzcylcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIGlmIChpbnB1dEVycm9yRWxlbWVudExpc3QubGVuZ3RoID4gMCkge1xuICAgICAgICBpbnB1dEVycm9yRWxlbWVudExpc3QuZm9yRWFjaCgoaW5wdXRFcnJvcikgPT4ge1xuICAgICAgICAgIGlucHV0RXJyb3IuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmlucHV0RXJyb3JDbGFzcylcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50LCBlcnJvck1lc3NhZ2UpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLmZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKVxuICAgIGlmIChlcnJvckVsZW1lbnQpIHtcbiAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuaW5wdXRFcnJvckNsYXNzKTtcbiAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuZXJyb3JDbGFzcylcbiAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZVxuICAgIH1cbiAgfVxuXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLmZvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKVxuICAgIGlmIChlcnJvckVsZW1lbnQpIHtcbiAgICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuaW5wdXRFcnJvckNsYXNzKTtcbiAgICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuZXJyb3JDbGFzcylcbiAgICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCJcbiAgICB9XG4gIH1cblxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQsIGlucHV0RWxlbWVudC52YWxpZGF0aW9uTWVzc2FnZSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KVxuICAgIH1cbiAgfVxuXG4gIF9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSB7XG4gICAgcmV0dXJuIGlucHV0TGlzdC5zb21lKGlucHV0RWxlbWVudCA9PiB7XG4gICAgICByZXR1cm4gIShpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpXG4gICAgfSlcbiAgfVxuXG4gIF90b2dnbGVCdG5TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuaW5wdXRMaXN0KSkge1xuICAgICAgdGhpcy5idXR0b25FbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKVxuICAgICAgdGhpcy5idXR0b25FbGVtZW50LnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuaW5hY3RpdmVCdXR0b25DbGFzcylcbiAgICAgIHRoaXMuYnV0dG9uRWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJylcbiAgICB9XG4gIH1cblxuICBfc2V0RXZlbkxpc3RlbmVycygpIHtcbiAgICBjb25zdCBfdGhpcyA9IHRoaXM7XG4gICAgdGhpcy5pbnB1dExpc3QuZm9yRWFjaChpbnB1dEVsZW1lbnQgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIF90aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KVxuICAgICAgICBfdGhpcy5fdG9nZ2xlQnRuU3RhdGUoKVxuICAgICAgfSlcbiAgICB9KVxuICAgIHRoaXMuZm9ybUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIC8vIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAvLyBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pXG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX3NldEV2ZW5MaXN0ZW5lcnMoKTtcbiAgICB0aGlzLl90b2dnbGVCdG5TdGF0ZSgpXG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXJTZWxlY3RvcjtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIGlmICgodGhpcy5faXRlbXMpLmxlbmd0aCA+IDEpIHtcbiAgICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goaXRlbSA9PiB7IHRoaXMuX3JlbmRlcmVyKGl0ZW0pIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9yZW5kZXJlcih0aGlzLl9pdGVtcylcbiAgICB9XG4gIH1cblxuICBhZGRJbml0aWFsSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KVxuICB9XG5cbiAgYWRkTmV3SXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudClcbiAgfVxuXG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHByb2ZpbGVUaXRsZUVsZW1lbnQsIHByb2ZpbGVTdWJ0aXRsZUVsZW1lbnQsIHByb2ZpbGVBdmF0YXJFbGVtZW50KSB7XG4gICAgdGhpcy5uYW1lID0gcHJvZmlsZVRpdGxlRWxlbWVudDtcbiAgICB0aGlzLmpvYiA9IHByb2ZpbGVTdWJ0aXRsZUVsZW1lbnQ7XG4gICAgdGhpcy5hdmF0YXIgPSBwcm9maWxlQXZhdGFyRWxlbWVudDtcbiAgICB0aGlzLnVzZXJJZCA9ICcnO1xuICB9XG5cbiAgc2V0VXNlckluZm8odXNlckRhdGEpIHtcbiAgICB0aGlzLm5hbWUudGV4dENvbnRlbnQgPSB1c2VyRGF0YS5uYW1lO1xuICAgIHRoaXMuam9iLnRleHRDb250ZW50ID0gdXNlckRhdGEuYWJvdXQ7XG4gIH1cblxuICBzZXRQb3B1cElucHV0KGlucHV0TmFtZUVsZW1lbnQsIGlucHV0Sm9iRWxlbWVudCkge1xuICAgIGlucHV0TmFtZUVsZW1lbnQudmFsdWUgPSB0aGlzLm5hbWUudGV4dENvbnRlbnRcbiAgICBpbnB1dEpvYkVsZW1lbnQudmFsdWUgPSB0aGlzLmpvYi50ZXh0Q29udGVudFxuICB9XG5cbiAgc2V0QXZhdGFyKHVzZXJEYXRhKSB7XG4gICAgdGhpcy5hdmF0YXIuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gYHVybCgke3VzZXJEYXRhLmF2YXRhcn0pYFxuICB9XG5cbiAgc2V0VXNlcklkKHVzZXJEYXRhKSB7XG4gICAgdGhpcy51c2VySWQgPSB1c2VyRGF0YS5faWRcbiAgfVxuXG4gIGdldFVzZXJJZCgpIHtcbiAgICByZXR1cm4gdGhpcy51c2VySWQ7XG4gIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBFbGVtZW50KSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gcG9wdXBFbGVtZW50O1xuICAgIHRoaXMuX2hhbmRsZUVzY0Nsb3NlID0gdGhpcy5faGFuZGxlRXNjQ2xvc2UuYmluZCh0aGlzKTtcbiAgICB0aGlzLmNsb3NlID0gdGhpcy5jbG9zZS5iaW5kKHRoaXMpXG4gICAgdGhpcy5jbG9zZUJ0bkVsZW1lbnQgPSBwb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwX19idG5fdHlwZV9jbG9zZScpXG4gIH1cblxuICBzZXRFdmVudGxpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLl9jbG9zZU9uT3ZlcmxheSlcbiAgICB0aGlzLmNsb3NlQnRuRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xvc2UpXG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKVxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSlcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKVxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSlcbiAgfVxuXG4gIF9jbG9zZU9uT3ZlcmxheSA9IChldmVudCkgPT4ge1xuICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9vcGVuZWQnKSkgdGhpcy5jbG9zZSgpXG4gIH07XG5cbiAgX2hhbmRsZUVzY0Nsb3NlKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gXCJFc2NhcGVcIikgdGhpcy5jbG9zZSgpXG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBFbGVtZW50LCBoYW5kbGVGb3JtU3VibWl0Q2FsbGJhY2tGbikge1xuICAgIHN1cGVyKHBvcHVwRWxlbWVudClcbiAgICB0aGlzLnBvcHVwRWxlbWVudCA9IHBvcHVwRWxlbWVudDtcbiAgICB0aGlzLmhhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0Q2FsbGJhY2tGbi5iaW5kKHRoaXMpO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IHVzZXJJbmZvID0ge31cbiAgICBBcnJheS5mcm9tKHRoaXMucG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKSkuZm9yRWFjaChpdGVtID0+IHtcbiAgICAgIHVzZXJJbmZvW2l0ZW0ubmFtZV0gPSBpdGVtLnZhbHVlXG4gICAgfSlcbiAgICByZXR1cm4gdXNlckluZm87XG4gIH1cblxuICBzZXRFdmVudGxpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudGxpc3RlbmVycygpXG4gICAgdGhpcy5wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcignZm9ybScpLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldmVudCkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgdGhpcy5oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgIH0pXG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwRWxlbWVudCkge1xuICAgIHN1cGVyKHBvcHVwRWxlbWVudCk7XG4gICAgdGhpcy5wb3B1cEVsZW1lbnQgPSBwb3B1cEVsZW1lbnQ7XG4gICAgdGhpcy5wb3B1cEltZyA9IHBvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwX19pbWdcIik7XG4gICAgdGhpcy5wb3B1cEltZ0NhcHRpb24gPSBwb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cF9faW1nLWNhcHRpb25cIik7XG4gIH1cblxuICBvcGVuKGV2ZW50KSB7XG4gICAgY29uc3QgY2FyZFRleHQgPSBgJHsoZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQpLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIikudGV4dENvbnRlbnR9YFxuICAgIHRoaXMucG9wdXBJbWcuc3JjID0gJycgLy9yZXNldCBpbWFnZSBiZWZvcmUgb3BlbiBwb3B1cC5cbiAgICB0aGlzLnBvcHVwSW1nLnNyYyA9IGV2ZW50LnRhcmdldC5zcmNcbiAgICB0aGlzLnBvcHVwSW1nQ2FwdGlvbi50ZXh0Q29udGVudCA9IGNhcmRUZXh0XG4gICAgdGhpcy5wb3B1cEltZy5hbHQgPSBjYXJkVGV4dFxuXG4gICAgc3VwZXIub3BlbigpXG4gIH1cbn1cbiIsImltcG9ydCBQb3B1cCBmcm9tICcuL1BvcHVwLmpzJztcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRGVsZXRlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cEVsZW1lbnQsIGhhbmRsZURlbGV0ZUNhbGxiYWNrRm4pIHtcbiAgICBzdXBlcihwb3B1cEVsZW1lbnQpXG4gICAgdGhpcy5wb3B1cEVsZW1lbnQgPSBwb3B1cEVsZW1lbnQ7XG4gICAgdGhpcy5oYW5kbGVEZWxldGUgPSBoYW5kbGVEZWxldGVDYWxsYmFja0ZuO1xuICAgIHRoaXMuY2FyZElkID0gJyc7XG4gIH1cblxuICBvcGVuKGNhcmRJZCkge1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgICB0aGlzLmNhcmRJZCA9IGNhcmRJZDtcbiAgICB0aGlzLnNldEV2ZW50bGlzdGVuZXJzKClcbiAgfVxuXG4gIHNldEV2ZW50bGlzdGVuZXJzKCkge1xuICAgIHRoaXMucG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0nKS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLmhhbmRsZURlbGV0ZSgpXG4gICAgfSlcbiAgfVxufVxuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgSW1wb3J0IGNzcyBmb3Igd2VicGFjayB0byByZWFkLlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbmltcG9ydCBcIi4vaW5kZXguY3NzXCJcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgSW1wb3J0IGNvbnN0IGFuZCB1dGlscy5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCB7IHByb2ZpbGVUaXRsZUVsZW1lbnQsIHByb2ZpbGVTdWJ0aXRsZUVsZW1lbnQsIHBvcHVwRm9ybUVkaXRFbGVtZW50LCBwb3B1cEZvcm1BZGRFbGVtZW50LCBmb3JtRWRpdEVsZW1lbnQsIGZvcm1BZGRFbGVtZW50LCBwb3B1cFZpZXdJbWFnZUVsZW1lbnQsIGVkaXRQcm9maWxlQnRuRWxlbWVudCwgYWRkQ2FyZEJ0bkVsZW1lbnQsIGNhcmRzQ29udGFpbmVyRWxlbWVudCwgcG9wdXBJbnB1dFR5cGVOYW1lLCBwb3B1cElucHV0VHlwZUpvYiwgY2FyZFRlbXBsYXRlLCBwb3B1cERlbGV0ZUNhcmRFbGVtZW50LCBwcm9maWxlQXZhdGFyRWxlbWVudCwgcG9wdXBGb3JtQ2hhbmdlQXZhdGFyRWxlbWVudCwgZm9ybUNoYW5nZUF2YXRhckVsZW1lbnQgfSBmcm9tICcuLi91dGlscy9jb25zdGFudHMuanMnXG5pbXBvcnQgeyB2YWxpZGF0aW9uQ29uZmlnIH0gZnJvbSAnLi4vdXRpbHMvdmFsaWRhdGUtc2VsZWN0b3IuanMnXG5pbXBvcnQgeyBsb2FkaW5nVGV4dCB9IGZyb20gJy4uL3V0aWxzL2xvYWRpbmcuanMnXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gIEltcG9ydCBNZXRob2QgQ2xhc3Nlcy5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmltcG9ydCBBUEkgZnJvbSAnLi4vY29tcG9uZW50cy9BcGkuanMnO1xuaW1wb3J0IHsgQ2FyZCB9IGZyb20gJy4uL2NvbXBvbmVudHMvQ2FyZC5qcydcbmltcG9ydCB7IEZvcm1WYWxpZGF0b3IgfSBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMnXG5pbXBvcnQgU2VjdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL1NlY3Rpb24uanMnXG5pbXBvcnQgVXNlckluZm8gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcydcbmltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcydcbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzJ1xuaW1wb3J0IFBvcHVwV2l0aERlbGV0ZSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aERlbGV0ZS5qcydcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgU2V0dGluZyBBUEkgcmVxdWVzdCB1cmwgYW5kIGhlYWRlci5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmNvbnN0IGFwaSA9IG5ldyBBUEkoXG4gIFwiaHR0cHM6Ly9hcm91bmQubm9tb3JlcGFydGllcy5jby92MS9cIiwge1xuICBtZXRob2Q6IFwiR0VUXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcImUwOTYwNGE1LTU3YWEtNGIyMC05YTgzLWVhNjZlNWM2OTI0YlwiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiXG4gIH1cbn0pXG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gIE1haW4gZnVuY3Rpb25zLlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UocG9wdXBWaWV3SW1hZ2VFbGVtZW50KTtcbmNvbnN0IHVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHByb2ZpbGVUaXRsZUVsZW1lbnQsIHByb2ZpbGVTdWJ0aXRsZUVsZW1lbnQsIHByb2ZpbGVBdmF0YXJFbGVtZW50KVxuXG5jb25zdCBoYW5kbGVDYXJkQ2xpY2tDYWxsYmFja0ZuID0gKGV2ZW50KSA9PiB7XG4gIHBvcHVwV2l0aEltYWdlLm9wZW4oZXZlbnQpXG59XG5cbmNvbnN0IGhhbmRsZVRyYXNoQ2xpY2tDYWxsYmFja0ZuID0gKGNhcmRJZCkgPT4ge1xuICBwb3B1cFdpdGhEZWxldGUub3BlbihjYXJkSWQpXG59XG5cbmNvbnN0IGNyZWF0ZUNhcmQgPSAoeyBuYW1lLCBsaW5rLCBfaWQsIGxpa2VzLCBvd25lciB9KSA9PiB7XG4gIGNvbnN0IHVzZXJJZCA9IHVzZXJJbmZvLmdldFVzZXJJZCgpXG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gbmV3IENhcmQoe1xuICAgIG5hbWUsIGxpbmssIF9pZCwgbGlrZXMsIG93bmVyLCBoYW5kbGVDYXJkQ2xpY2tDYWxsYmFja0ZuLCBoYW5kbGVUcmFzaENsaWNrQ2FsbGJhY2tGbixcbiAgICBoYW5kbGVMaWtlQ2xpY2tDYWxsYmFja0ZuOiAoZXZlbnQpID0+IHtcbiAgICAgIGNvbnN0IGNhcmRJZCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KFwiLmNhcmRcIikuaWRcbiAgICAgICEoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcImNhcmRfX2xpa2VfYWN0aXZlXCIpKVxuICAgICAgICA/IGFwaS5hZGRMaWtlKGNhcmRJZClcbiAgICAgICAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICAgICAgICBjYXJkRWxlbWVudC5hZGRMaWtlcyhyZXMsIGV2ZW50KVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgRXJyb3I6ICR7ZXJyfWApXG4gICAgICAgICAgfSlcbiAgICAgICAgOiBhcGkucmVtb3ZlTGlrZShjYXJkSWQpXG4gICAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgICAgICAgY2FyZEVsZW1lbnQucmVtb3ZlTGlrZXMocmVzLCBldmVudClcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYEVycm9yOiAke2Vycn1gKVxuICAgICAgICAgIH0pXG4gICAgfVxuICB9LCB1c2VySWQsIGNhcmRUZW1wbGF0ZSlcbiAgcmV0dXJuIGNhcmRFbGVtZW50LmdlbmVyYXRlQ2FyZCgpXG59XG5cbmNvbnN0IGNyZWF0ZVNlY3Rpb24gPSAoY2FyZERhdGEsIHByZXBlbmQgPSB0cnVlKSA9PiB7XG4gIGNvbnN0IHNlY3Rpb24gPSBuZXcgU2VjdGlvbih7XG4gICAgaXRlbXM6IGNhcmREYXRhLFxuICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xuICAgICAgY29uc3QgY2FyZCA9IGNyZWF0ZUNhcmQoaXRlbSlcbiAgICAgIHByZXBlbmRcbiAgICAgICAgPyBzZWN0aW9uLmFkZE5ld0l0ZW0oY2FyZClcbiAgICAgICAgOiBzZWN0aW9uLmFkZEluaXRpYWxJdGVtKGNhcmQpXG4gICAgfVxuICB9LCBjYXJkc0NvbnRhaW5lckVsZW1lbnQpXG4gIHJldHVybiBzZWN0aW9uXG59XG5cbmNvbnN0IGhhbmRsZUZvcm1FZGl0U3VibWl0ID0gKG5ld1VzZXJEYXRhKSA9PiB7XG4gIGxvYWRpbmdUZXh0KHBvcHVwRm9ybUVkaXRFbGVtZW50LCB0cnVlKVxuICBhcGkudXBkYXRlVXNlcihuZXdVc2VyRGF0YSlcbiAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICB1c2VySW5mby5zZXRVc2VySW5mbyhyZXN1bHQpXG4gICAgICBsb2FkaW5nVGV4dChwb3B1cEZvcm1FZGl0RWxlbWVudCwgZmFsc2UpXG4gICAgICBwb3B1cEVkaXRQcm9maWxlLmNsb3NlKClcbiAgICB9KVxuICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgY29uc29sZS5sb2coYEVycm9yOiAke2Vycn1gKVxuICAgIH0pXG59XG5cbmNvbnN0IGhhbmRsZUZvcm1BZGRTdWJtaXQgPSAobmV3VXNlckRhdGEpID0+IHtcbiAgbG9hZGluZ1RleHQocG9wdXBGb3JtQWRkRWxlbWVudCwgdHJ1ZSlcbiAgYXBpLmFkZENhcmQobmV3VXNlckRhdGEpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgY3JlYXRlU2VjdGlvbihyZXMpLnJlbmRlckl0ZW1zKClcbiAgICAgIHBvcHVwQWRkQ2FyZC5jbG9zZSgpXG4gICAgICBsb2FkaW5nVGV4dChwb3B1cEZvcm1BZGRFbGVtZW50LCBmYWxzZSlcbiAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgY29uc29sZS5sb2coYEVycm9yOiAke2Vycn1gKVxuICAgIH0pXG59XG5cbmNvbnN0IGhhbmRsZUNoYW5nZUF2YXRhciA9IChuZXdBdmF0YXJPYmopID0+IHtcbiAgbG9hZGluZ1RleHQocG9wdXBGb3JtQ2hhbmdlQXZhdGFyRWxlbWVudCwgdHJ1ZSlcbiAgYXBpLmNoYW5nZVByb2ZpbGVQaWMobmV3QXZhdGFyT2JqKVxuICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIHByb2ZpbGVBdmF0YXJFbGVtZW50LnN0eWxlLmJhY2tncm91bmRJbWFnZSA9IGB1cmwoJHtyZXN1bHQuYXZhdGFyfSlgXG4gICAgICBwb3B1cENoYW5nZUF2YXRhci5jbG9zZSgpXG4gICAgICBsb2FkaW5nVGV4dChwb3B1cEZvcm1DaGFuZ2VBdmF0YXJFbGVtZW50LCBmYWxzZSlcbiAgICB9KVxuICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgY29uc29sZS5sb2coYEVycm9yOiAke2Vycn1gKVxuICAgIH0pXG59XG5cbmNvbnN0IGhhbmRsZURlbGV0ZUNhbGxiYWNrRm4gPSAoKSA9PiB7XG4gIGNvbnN0IGNhcmRJZCA9IHBvcHVwV2l0aERlbGV0ZS5jYXJkSWQ7XG4gIGFwaS5kZWxldGVDYXJkKGNhcmRJZClcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtwb3B1cFdpdGhEZWxldGUuY2FyZElkfWApLnJlbW92ZSgpXG4gICAgICBwb3B1cFdpdGhEZWxldGUuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgY29uc29sZS5sb2coYEVycm9yOiAke2Vycn1gKVxuICAgIH0pXG59XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gIEZvcm0gVmFsaWRhdG9ycy5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmNvbnN0IGZvcm1FZGl0VmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IodmFsaWRhdGlvbkNvbmZpZywgcG9wdXBGb3JtRWRpdEVsZW1lbnQpO1xuY29uc3QgZm9ybUFkZFZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIHBvcHVwRm9ybUFkZEVsZW1lbnQpO1xuY29uc3QgZm9ybUNoYW5nZUF2YXRhciA9IG5ldyBGb3JtVmFsaWRhdG9yKHZhbGlkYXRpb25Db25maWcsIHBvcHVwRm9ybUNoYW5nZUF2YXRhckVsZW1lbnQpO1xuZm9ybUVkaXRWYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuZm9ybUFkZFZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5mb3JtQ2hhbmdlQXZhdGFyLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgU2V0IEV2ZW50TGlzdGVuZXJzIC0gUG9wdXAgV2l0aCBGb3JtcyArIGNvbmZpcm0gRGVsZXRldGlvbi5cbiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXG5cbmNvbnN0IHBvcHVwRWRpdFByb2ZpbGUgPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cEZvcm1FZGl0RWxlbWVudCwgaGFuZGxlRm9ybUVkaXRTdWJtaXQpXG5jb25zdCBwb3B1cEFkZENhcmQgPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cEZvcm1BZGRFbGVtZW50LCBoYW5kbGVGb3JtQWRkU3VibWl0KVxuY29uc3QgcG9wdXBDaGFuZ2VBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybShwb3B1cEZvcm1DaGFuZ2VBdmF0YXJFbGVtZW50LCBoYW5kbGVDaGFuZ2VBdmF0YXIpXG5jb25zdCBwb3B1cFdpdGhEZWxldGUgPSBuZXcgUG9wdXBXaXRoRGVsZXRlKHBvcHVwRGVsZXRlQ2FyZEVsZW1lbnQsIGhhbmRsZURlbGV0ZUNhbGxiYWNrRm4pXG5wb3B1cEVkaXRQcm9maWxlLnNldEV2ZW50bGlzdGVuZXJzKClcbnBvcHVwQWRkQ2FyZC5zZXRFdmVudGxpc3RlbmVycygpXG5wb3B1cENoYW5nZUF2YXRhci5zZXRFdmVudGxpc3RlbmVycygpXG5wb3B1cFdpdGhEZWxldGUuc2V0RXZlbnRsaXN0ZW5lcnMoKVxuXG5lZGl0UHJvZmlsZUJ0bkVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGZvcm1FZGl0VmFsaWRhdG9yLnJlc2V0RXJyb3JNZXNzYWdlKGZvcm1FZGl0RWxlbWVudClcbiAgdXNlckluZm8uc2V0UG9wdXBJbnB1dChwb3B1cElucHV0VHlwZU5hbWUsIHBvcHVwSW5wdXRUeXBlSm9iKVxuICBwb3B1cEVkaXRQcm9maWxlLm9wZW4oKVxufSk7XG5cbmFkZENhcmRCdG5FbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICBmb3JtQWRkVmFsaWRhdG9yLnJlc2V0RXJyb3JNZXNzYWdlKGZvcm1BZGRFbGVtZW50KVxuICBwb3B1cEFkZENhcmQub3BlbigpO1xufSlcblxucHJvZmlsZUF2YXRhckVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gIGZvcm1BZGRWYWxpZGF0b3IucmVzZXRFcnJvck1lc3NhZ2UoZm9ybUNoYW5nZUF2YXRhckVsZW1lbnQpXG4gIHBvcHVwQ2hhbmdlQXZhdGFyLm9wZW4oKVxufSlcblxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgSW5pdGlhbGl6ZSBjYXJkcyBhbmQgdXNlciBpbmZvLlxuICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cblxuY29uc3QgaW5pdGlhbGl6ZUNhcmRzID0gKGNhcmREYXRhKSA9PiB7XG4gIGNyZWF0ZVNlY3Rpb24oY2FyZERhdGEsIGZhbHNlKS5yZW5kZXJJdGVtcygpXG59XG5cbmNvbnN0IGluaXRpYWxpemVVc2VyID0gKGRhdGEpID0+IHtcbiAgdXNlckluZm8uc2V0VXNlckluZm8oZGF0YSlcbiAgdXNlckluZm8uc2V0QXZhdGFyKGRhdGEpXG4gIHVzZXJJbmZvLnNldFVzZXJJZChkYXRhKVxufVxuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICBTZXJ2ZXIgUmVxdWVzdCAtIGNhcmRzIGFuZCB1c2VyIGluZm8uXG4gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuXG5Qcm9taXNlLmFsbChbXG4gIGFwaS5nZXRJbml0aWFsQ2FyZHMoKSxcbiAgYXBpLmdldFVzZXJEYXRhKClcbl0pXG4gIC50aGVuKGRhdGEgPT4ge1xuICAgIGluaXRpYWxpemVVc2VyKGRhdGFbMV0pXG4gICAgcmV0dXJuIGRhdGFcbiAgfSkuY2F0Y2goZXJyb3IgPT4ge1xuICAgIHJldHVybiAoYEVycm9yOiAke2Vycm9yfWApXG4gIH0pXG4gIC50aGVuKChkYXRhKSA9PiB7XG4gICAgaW5pdGlhbGl6ZUNhcmRzKGRhdGFbMF0pXG4gIH0pLmNhdGNoKGVycm9yID0+IHtcbiAgICByZXR1cm4gKGBFcnJvcjogJHtlcnJvcn1gKVxuICB9KVxuXG4iXSwic291cmNlUm9vdCI6IiJ9